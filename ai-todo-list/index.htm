<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Todo List App</title>
	<style>
		body { font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
		.container { max-width: 400px; margin: 40px auto; background: #fff; padding: 24px 32px 32px 32px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
		h2 { text-align: center; margin-bottom: 24px; }
		#todo-form { display: flex; gap: 8px; margin-bottom: 20px; }
		#todo-input { flex: 1; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
		#add-btn { padding: 8px 16px; border: none; background: #007bff; color: #fff; border-radius: 4px; cursor: pointer; }
		#add-btn:hover { background: #0056b3; }
		ul { list-style: none; padding: 0; margin: 0; }
		li { display: flex; align-items: center; justify-content: space-between; background: #f9f9f9; margin-bottom: 8px; padding: 8px 12px; border-radius: 4px; }
		.todo-text { flex: 1; margin-right: 8px; word-break: break-word; }
		.actions button { margin-left: 4px; border: none; background: none; cursor: pointer; font-size: 16px; }
		.actions button.edit { color: #ffc107; }
		.actions button.delete { color: #dc3545; }
		.actions button.up, .actions button.down { color: #007bff; }
		.actions button:disabled { color: #ccc; cursor: not-allowed; }
		input.edit-input { flex: 1; padding: 6px; border: 1px solid #aaa; border-radius: 4px; }
	</style>
</head>
<body>
	<div class="container">
		<h2>Todo List</h2>
		<form id="todo-form">
			<input type="text" id="todo-input" placeholder="Add a new todo..." required />
			<button type="submit" id="add-btn">Add</button>
		</form>
		<ul id="todo-list"></ul>
	</div>
	<script>
		const todoForm = document.getElementById('todo-form');
		const todoInput = document.getElementById('todo-input');
		const todoList = document.getElementById('todo-list');
		let todos = [];

		function renderTodos() {
			todoList.innerHTML = '';
			todos.forEach((todo, idx) => {
				const li = document.createElement('li');
				if (todo.editing) {
					const input = document.createElement('input');
					input.type = 'text';
					input.value = todo.text;
					input.className = 'edit-input';
					input.addEventListener('keydown', (e) => {
						if (e.key === 'Enter') saveEdit(idx, input.value);
						if (e.key === 'Escape') cancelEdit(idx);
					});
					input.addEventListener('blur', () => cancelEdit(idx));
					li.appendChild(input);
					input.focus();
				} else {
					const span = document.createElement('span');
					span.className = 'todo-text';
					span.textContent = todo.text;
					li.appendChild(span);
				}
				const actions = document.createElement('div');
				actions.className = 'actions';
				if (!todo.editing) {
					const editBtn = document.createElement('button');
					editBtn.className = 'edit';
					editBtn.title = 'Edit';
					editBtn.innerHTML = 'âœï¸';
					editBtn.onclick = () => editTodo(idx);
					actions.appendChild(editBtn);
				}
				const delBtn = document.createElement('button');
				delBtn.className = 'delete';
				delBtn.title = 'Delete';
				delBtn.innerHTML = 'ðŸ—‘ï¸';
				delBtn.onclick = () => deleteTodo(idx);
				actions.appendChild(delBtn);
				const upBtn = document.createElement('button');
				upBtn.className = 'up';
				upBtn.title = 'Move Up';
				upBtn.innerHTML = 'â¬†ï¸';
				upBtn.disabled = idx === 0;
				upBtn.onclick = () => moveTodo(idx, -1);
				actions.appendChild(upBtn);
				const downBtn = document.createElement('button');
				downBtn.className = 'down';
				downBtn.title = 'Move Down';
				downBtn.innerHTML = 'â¬‡ï¸';
				downBtn.disabled = idx === todos.length - 1;
				downBtn.onclick = () => moveTodo(idx, 1);
				actions.appendChild(downBtn);
				li.appendChild(actions);
				todoList.appendChild(li);
			});
		}

		todoForm.onsubmit = function(e) {
			e.preventDefault();
			const text = todoInput.value.trim();
			if (text) {
				todos.push({ text, editing: false });
				todoInput.value = '';
				renderTodos();
			}
		};

		function editTodo(idx) {
			todos = todos.map((todo, i) => ({ ...todo, editing: i === idx }));
			renderTodos();
		}
		function saveEdit(idx, value) {
			todos[idx].text = value.trim() || todos[idx].text;
			todos[idx].editing = false;
			renderTodos();
		}
		function cancelEdit(idx) {
			todos[idx].editing = false;
			renderTodos();
		}
		function deleteTodo(idx) {
			todos.splice(idx, 1);
			renderTodos();
		}
		function moveTodo(idx, dir) {
			const newIdx = idx + dir;
			if (newIdx < 0 || newIdx >= todos.length) return;
			const [item] = todos.splice(idx, 1);
			todos.splice(newIdx, 0, item);
			renderTodos();
		}
		renderTodos();
	</script>
</body>
</html>
